(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{42:function(e,t,a){e.exports=a(93)},90:function(e,t){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(34),o=a.n(r),c=a(35),s=a(36),i=a(37),m=a(40),u=a(38),d=a(41);var p=function(e){var t=[];return e.books.forEach(function(a){t.push(l.a.createElement("li",{key:a.id,className:"list-group-item"},l.a.createElement("div",{className:"panel panel-primary"},l.a.createElement("div",{className:"panel-heading"},l.a.createElement("h1",null,a.volumeInfo.title)),l.a.createElement("div",{className:"panel-body"},a.volumeInfo.description,l.a.createElement("p",{style:{backgroundColor:"darkgray"}},"Published at: ",a.volumeInfo.publishedDate),l.a.createElement("hr",null),l.a.createElement("span",{className:"btn-group pull-right"},l.a.createElement("a",{rel:"noopener noreferrer",href:a.volumeInfo.previewLink,target:"_blank"},l.a.createElement("button",{className:"btn btn-default "},"Visit IT")),l.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.handleSaveButton(a.id)}},"Save IT"),l.a.createElement("hr",null))))))}),l.a.createElement("div",null,t)};var v=function(e){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"panel panel-primary"},l.a.createElement("div",{className:"panel-heading"},l.a.createElement("h3",{className:"panel-title"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-newspaper-o","aria-hidden":"true"})," Books Received from google"))),l.a.createElement("div",{className:"panel-body"},l.a.createElement(p,{books:e.books,handleSaveButton:e.handleSaveButton})))))};var h=function(e){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"panel panel-primary"},l.a.createElement("div",{className:"panel-heading"},l.a.createElement("h3",{className:"panel-title"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"})," Search"))),l.a.createElement("div",{className:"panel-body"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"topic"},"Book Title"),l.a.createElement("input",{onChange:e.changeInputHandler,type:"text",className:"form-control",id:"subject",name:"subject"})),l.a.createElement("button",{onClick:e.submitFormHandler,className:"btn btn-primary"},"Submit"))))))};var E=function(e){return l.a.createElement("div",null,l.a.createElement(h,{changeInputHandler:e.changeInputHandler,submitFormHandler:e.submitFormHandler}),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement(v,{books:e.books,handleSaveButton:e.handleSaveButton}))};var b=function(){return l.a.createElement("div",{className:"jumbotron"},l.a.createElement("h1",{className:"text-center"},l.a.createElement("strong",null,"Google Books ")),l.a.createElement("h2",{className:"text-center"},"Search your book from google library"))},f=a(4),g=a.n(f),k={Search:function(e){var t=g.a.get("https://www.googleapis.com/books/v1/volumes?q="+e);return console.log(t.items),t},getBooks:function(){return g.a.get("/api/books")},saveBooks:function(e){return g.a.post("/api/books",e)},deleteBook:function(e){return g.a.delete("/api/delete/"+e)}};var N=function(e){var t=[];return e.books.forEach(function(a){t.push(l.a.createElement("li",{key:a._id,className:"list-group-item"},l.a.createElement("div",{className:"panel panel-primary"},l.a.createElement("div",{className:"panel-heading"},l.a.createElement("h1",null,a.title)),l.a.createElement("div",{className:"panel-body"},a.desc,l.a.createElement("p",{style:{backgroundColor:"darkgray"}},"Published at: ",a.date),l.a.createElement("hr",null),l.a.createElement("span",{className:"btn-group pull-right"},l.a.createElement("a",{rel:"noopener noreferrer",href:a.url,target:"_blank"},l.a.createElement("button",{className:"btn btn-default "},"Visit IT")),l.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.handleDeleteButton(a._id)}},"Delete IT"),l.a.createElement("hr",null))))))}),l.a.createElement("div",null,t)};var y=function(e){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"panel panel-primary"},l.a.createElement("div",{className:"panel-heading"},l.a.createElement("h3",{className:"panel-title"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-newspaper-o","aria-hidden":"true"})," Saved Books"))),l.a.createElement("div",{className:"panel-body"},l.a.createElement(N,{books:e.books,handleDeleteButton:e.handleDeleteEvent})))))},B=a(39),I=a.n(B);var w=function(e){return console.log(e),l.a.createElement("li",{className:"list-group-item"},e.value)},S=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={subject:"",books:[],saved_books:[],response:[],endpoint:"http://127.0.0.1:3001"},a.getBooks=function(){k.getBooks().then(function(e){a.setState({saved_books:e.data})}).catch(function(e){return console.log(e)})},a.changeInputHandler=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(c.a)({},n,l))},a.submitFormHandler=function(e){e.preventDefault(),a.state.subject?k.Search(a.state.subject).then(function(e){console.log(e),a.setState({books:e.data.items})}).catch(function(e){return console.log(e)}):alert("what is the book's name?")},a.handleSaveEvent=function(e){var t=a.state.books.find(function(t){return t.id===e}),n={title:t.volumeInfo.title,date:t.volumeInfo.publishedDate,url:t.volumeInfo.previewLink,desc:t.volumeInfo.description.substring(0,255)};k.saveBooks(n).then(a.getBooks).catch(function(e){return console.log(e)})},a.handleDeleteEvent=function(e){k.deleteBook(e).then(a.getBooks).catch(function(e){return console.log(e)})},a.generateList=function(){for(var e=a.state.response,t=[],n=0;n<e.length;n++)t.push(l.a.createElement(w,{key:e[n]._id,value:e[n].title}));return t.reverse(),t},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getBooks();var t=this.state.endpoint;I()(t).on("FromAPI",function(t){return e.setState({response:t})})}},{key:"render",value:function(){var e=this.state.response;return console.log(e),l.a.createElement("div",null,l.a.createElement(b,null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-8 col-md-8 col-lg-8"},l.a.createElement(E,{changeInputHandler:this.changeInputHandler,submitFormHandler:this.submitFormHandler,handleSaveButton:this.handleSaveEvent,books:this.state.books}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement(y,{books:this.state.saved_books,handleDeleteEvent:this.handleDeleteEvent})),l.a.createElement("div",{className:"col-sm-4 col-md-4 col-lg-4",style:{position:"fixed",right:"0px"}},l.a.createElement("ul",{className:"list-group"},e.length>0?this.generateList():l.a.createElement("li",{className:"list-group-item"},"loading..."))))))}}]),t}(n.Component);var j=function(){return l.a.createElement(S,null)};o.a.render(l.a.createElement(j,null),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.277e0036.chunk.js.map